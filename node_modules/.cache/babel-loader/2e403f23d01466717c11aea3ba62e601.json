{"ast":null,"code":"import { ref, computed } from 'vue';\nimport TodoSimpleForm from './components/TodoSimpleForm.vue';\nimport TodoList from './components/TodoList.vue';\nimport axios from 'axios';\nexport default {\n  name: 'App',\n  components: {\n    TodoSimpleForm,\n    TodoList\n  },\n\n  setup() {\n    const todos = ref([]);\n\n    const addTodo = todo => {\n      axios.post('http://localhost:3000', {\n        subject: todo.subject,\n        completed: todo.completed\n      }).then(res => {\n        console.log(res);\n        todos.value.push(res.data);\n      }).catch(err => {\n        console.error(err);\n      });\n    };\n\n    const deleteTodo = index => {\n      todos.value.splice(index, 1);\n    };\n\n    const toggleTodo = index => {\n      console.log(index);\n      console.log();\n      todos.value[index].completed = !todos.value[index].completed;\n    };\n\n    const searchText = ref('');\n    const filteredTodos = computed(() => {\n      if (searchText.value) {\n        return todos.value.filter(todo => {\n          return todo.subject.includes(searchText.value);\n        });\n      }\n\n      return todos.value;\n    });\n    return {\n      todos,\n      addTodo,\n      deleteTodo,\n      toggleTodo,\n      searchText,\n      filteredTodos\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAoBA,SAASA,GAAT,EAAcC,QAAd,QAA8B,KAA9B;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,KADO;AAEbC,YAAU,EAAE;AACVJ,kBADU;AAEVC;AAFU,GAFC;;AAObI,OAAK,GAAE;AACL,UAAMC,KAAI,GAAIR,GAAG,CAAC,EAAD,CAAjB;;AACA,UAAMS,OAAM,GAAKC,IAAD,IAAU;AACxBN,WAAK,CAACO,IAAN,CAAW,uBAAX,EAAoC;AAClCC,eAAM,EAAIF,IAAI,CAACE,OADmB;AAElCC,iBAAQ,EAAIH,IAAI,CAACG;AAFiB,OAApC,EAGGC,IAHH,CAGQC,GAAE,IAAK;AACbC,eAAO,CAACC,GAAR,CAAYF,GAAZ;AACCP,aAAK,CAACU,KAAN,CAAYC,IAAZ,CAAiBJ,GAAG,CAACK,IAArB;AACF,OAND,EAMGC,KANH,CAMUC,GAAE,IAAK;AACfN,eAAO,CAACO,KAAR,CAAcD,GAAd;AACD,OARD;AAUF,KAXA;;AAYA,UAAME,UAAS,GAAKC,KAAD,IAAW;AAC5BjB,WAAK,CAACU,KAAN,CAAYQ,MAAZ,CAAmBD,KAAnB,EAA0B,CAA1B;AACF,KAFA;;AAGA,UAAME,UAAS,GAAKF,KAAD,IAAW;AAC5BT,aAAO,CAACC,GAAR,CAAYQ,KAAZ;AACAT,aAAO,CAACC,GAAR;AACAT,WAAK,CAACU,KAAN,CAAYO,KAAZ,EAAmBZ,SAAnB,GAA+B,CAACL,KAAK,CAACU,KAAN,CAAYO,KAAZ,EAAmBZ,SAAnD;AACF,KAJA;;AAKA,UAAMe,UAAS,GAAI5B,GAAG,CAAC,EAAD,CAAtB;AACA,UAAM6B,aAAY,GAAI5B,QAAQ,CAAC,MAAI;AACjC,UAAG2B,UAAU,CAACV,KAAd,EAAoB;AAClB,eAAOV,KAAK,CAACU,KAAN,CAAYY,MAAZ,CAAmBpB,IAAI,IAAE;AAC9B,iBAAOA,IAAI,CAACE,OAAL,CAAamB,QAAb,CAAsBH,UAAU,CAACV,KAAjC,CAAP;AACD,SAFM,CAAP;AAGF;;AACA,aAAOV,KAAK,CAACU,KAAb;AACD,KAP6B,CAA9B;AASA,WAAO;AACLV,WADK;AAELC,aAFK;AAGLe,gBAHK;AAILG,gBAJK;AAKLC,gBALK;AAMLC;AANK,KAAP;AAQD;;AA/CY,CAAf","names":["ref","computed","TodoSimpleForm","TodoList","axios","name","components","setup","todos","addTodo","todo","post","subject","completed","then","res","console","log","value","push","data","catch","err","error","deleteTodo","index","splice","toggleTodo","searchText","filteredTodos","filter","includes"],"sourceRoot":"","sources":["E:\\vue\\vue_todo\\src\\App.vue"],"sourcesContent":["<template>\n\n<div class=\"container\">\n  <h2 class=\"strong\">To-Do List</h2>\n  <input type=\"text\" class=\"form-control\" \n  v-model=\"searchText\" placeholder=\"Search\">\n  <hr>\n  <TodoSimpleForm @add-todo = \"addTodo\" ></TodoSimpleForm>\n  <div v-if=\"!filteredTodos.length\"> Nothing </div>\n  <TodoList \n    :todos = \"filteredTodos\"\n    @toggle-todo=\"toggleTodo\"\n    @delete-todo=\"deleteTodo\"></TodoList>\n\n</div>\n\n</template>\n\n<script>\n\nimport { ref, computed } from 'vue'\nimport TodoSimpleForm from './components/TodoSimpleForm.vue'\nimport TodoList from './components/TodoList.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'App',\n  components: {\n    TodoSimpleForm,\n    TodoList\n    \n  },\n  setup(){\n    const todos = ref([]);\n    const addTodo = (todo) => { \n      axios.post('http://localhost:3000', {\n        subject : todo.subject,\n        completed : todo.completed,\n      }).then(res => {\n        console.log(res);\n         todos.value.push(res.data);\n      }).catch( err => {\n        console.error(err)\n      })\n     \n    }\n    const deleteTodo = (index) => {\n      todos.value.splice(index, 1);\n    }\n    const toggleTodo = (index) => {\n      console.log(index);\n      console.log()\n      todos.value[index].completed = !todos.value[index].completed\n    }\n    const searchText = ref('');\n    const filteredTodos = computed(()=>{\n      if(searchText.value){\n        return todos.value.filter(todo=>{\n          return todo.subject.includes(searchText.value)\n        });\n      }\n      return todos.value;\n    })\n\n    return {\n      todos,\n      addTodo,\n      deleteTodo,\n      toggleTodo,\n      searchText,\n      filteredTodos,\n    }\n  },\n\n}\n</script>\n\n<style>\n</style>\n"]},"metadata":{},"sourceType":"module"}