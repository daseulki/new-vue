{"ast":null,"code":"import { ref, computed } from 'vue';\nimport TodoSimpleForm from './components/TodoSimpleForm.vue';\nimport TodoList from './components/TodoList.vue';\nimport axios from 'axios';\nexport default {\n  name: 'App',\n  components: {\n    TodoSimpleForm,\n    TodoList\n  },\n\n  setup() {\n    const todos = ref([]);\n\n    const getTodo = async () => {\n      try {\n        const res = await axios.get('http://localhost:3000/todos');\n        todos.value = res.data;\n        console.log(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    const addTodo = async todo => {\n      try {\n        const res = await axios.post('http://localhost:3000/todos', {\n          subject: todo.subject,\n          completed: todo.completed\n        });\n        todos.value.push(res.data);\n      } catch (err) {\n        console.error(err);\n      }\n    };\n\n    const deleteTodo = index => {\n      todos.value.splice(index, 1);\n    };\n\n    const toggleTodo = index => {\n      console.log(index);\n      console.log();\n      todos.value[index].completed = !todos.value[index].completed;\n    };\n\n    const searchText = ref('');\n    const filteredTodos = computed(() => {\n      if (searchText.value) {\n        return todos.value.filter(todo => {\n          return todo.subject.includes(searchText.value);\n        });\n      }\n\n      return todos.value;\n    });\n    return {\n      todos,\n      getTodo,\n      addTodo,\n      deleteTodo,\n      toggleTodo,\n      searchText,\n      filteredTodos\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAoBA,SAASA,GAAT,EAAcC,QAAd,QAA8B,KAA9B;AACA,OAAOC,cAAP,MAA2B,iCAA3B;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACbC,MAAI,EAAE,KADO;AAEbC,YAAU,EAAE;AACVJ,kBADU;AAEVC;AAFU,GAFC;;AAObI,OAAK,GAAE;AACL,UAAMC,KAAI,GAAIR,GAAG,CAAC,EAAD,CAAjB;;AACA,UAAMS,OAAM,GAAI,YAAY;AAC1B,UAAI;AACF,cAAMC,GAAE,GAAI,MAAMN,KAAK,CAACO,GAAN,CAAU,6BAAV,CAAlB;AACAH,aAAK,CAACI,KAAN,GAAcF,GAAG,CAACG,IAAlB;AACAC,eAAO,CAACC,GAAR,CAAYL,GAAG,CAACG,IAAhB;AAEF,OALA,CAKE,OAAMG,GAAN,EAAW;AACXF,eAAO,CAACG,KAAR,CAAcD,GAAd;AACF;AAEF,KAVA;;AAWA,UAAME,OAAM,GAAI,MAAMC,IAAN,IAAe;AAC7B,UAAI;AACF,cAAMT,GAAE,GAAI,MAAMN,KAAK,CAACgB,IAAN,CAAW,6BAAX,EAA0C;AAC1DC,iBAAM,EAAIF,IAAI,CAACE,OAD2C;AAE1DC,mBAAQ,EAAIH,IAAI,CAACG;AAFyC,SAA1C,CAAlB;AAIAd,aAAK,CAACI,KAAN,CAAYW,IAAZ,CAAiBb,GAAG,CAACG,IAArB;AACF,OANA,CAOA,OAAMG,GAAN,EAAW;AACTF,eAAO,CAACG,KAAR,CAAcD,GAAd;AACF;AAEF,KAZA;;AAaA,UAAMQ,UAAS,GAAKC,KAAD,IAAW;AAC5BjB,WAAK,CAACI,KAAN,CAAYc,MAAZ,CAAmBD,KAAnB,EAA0B,CAA1B;AACF,KAFA;;AAGA,UAAME,UAAS,GAAKF,KAAD,IAAW;AAC5BX,aAAO,CAACC,GAAR,CAAYU,KAAZ;AACAX,aAAO,CAACC,GAAR;AACAP,WAAK,CAACI,KAAN,CAAYa,KAAZ,EAAmBH,SAAnB,GAA+B,CAACd,KAAK,CAACI,KAAN,CAAYa,KAAZ,EAAmBH,SAAnD;AACF,KAJA;;AAKA,UAAMM,UAAS,GAAI5B,GAAG,CAAC,EAAD,CAAtB;AACA,UAAM6B,aAAY,GAAI5B,QAAQ,CAAC,MAAI;AACjC,UAAG2B,UAAU,CAAChB,KAAd,EAAoB;AAClB,eAAOJ,KAAK,CAACI,KAAN,CAAYkB,MAAZ,CAAmBX,IAAI,IAAE;AAC9B,iBAAOA,IAAI,CAACE,OAAL,CAAaU,QAAb,CAAsBH,UAAU,CAAChB,KAAjC,CAAP;AACD,SAFM,CAAP;AAGF;;AACA,aAAOJ,KAAK,CAACI,KAAb;AACD,KAP6B,CAA9B;AASA,WAAO;AACLJ,WADK;AAELC,aAFK;AAGLS,aAHK;AAILM,gBAJK;AAKLG,gBALK;AAMLC,gBANK;AAOLC;AAPK,KAAP;AASD;;AA5DY,CAAf","names":["ref","computed","TodoSimpleForm","TodoList","axios","name","components","setup","todos","getTodo","res","get","value","data","console","log","err","error","addTodo","todo","post","subject","completed","push","deleteTodo","index","splice","toggleTodo","searchText","filteredTodos","filter","includes"],"sourceRoot":"","sources":["E:\\vue\\vue_todo\\src\\App.vue"],"sourcesContent":["<template>\n\n<div class=\"container\">\n  <h2 class=\"strong\">To-Do List</h2>\n  <input type=\"text\" class=\"form-control\" \n  v-model=\"searchText\" placeholder=\"Search\">\n  <hr>\n  <TodoSimpleForm @add-todo = \"addTodo\" ></TodoSimpleForm>\n  <div v-if=\"!filteredTodos.length\"> Nothing </div>\n  <TodoList \n    :todos = \"filteredTodos\"\n    @toggle-todo=\"toggleTodo\"\n    @delete-todo=\"deleteTodo\"></TodoList>\n\n</div>\n\n</template>\n\n<script>\n\nimport { ref, computed } from 'vue'\nimport TodoSimpleForm from './components/TodoSimpleForm.vue'\nimport TodoList from './components/TodoList.vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'App',\n  components: {\n    TodoSimpleForm,\n    TodoList\n    \n  },\n  setup(){\n    const todos = ref([]);\n    const getTodo = async () => {\n      try {\n        const res = await axios.get('http://localhost:3000/todos')\n        todos.value = res.data;\n        console.log(res.data)\n      \n      } catch(err) {\n        console.error(err)\n      }\n    \n    }\n    const addTodo = async(todo) => { \n      try {\n        const res = await axios.post('http://localhost:3000/todos', {\n          subject : todo.subject,\n          completed : todo.completed,\n        })\n        todos.value.push(res.data);\n      }\n      catch(err) {\n        console.error(err)\n      }\n     \n    }\n    const deleteTodo = (index) => {\n      todos.value.splice(index, 1);\n    }\n    const toggleTodo = (index) => {\n      console.log(index);\n      console.log()\n      todos.value[index].completed = !todos.value[index].completed\n    }\n    const searchText = ref('');\n    const filteredTodos = computed(()=>{\n      if(searchText.value){\n        return todos.value.filter(todo=>{\n          return todo.subject.includes(searchText.value)\n        });\n      }\n      return todos.value;\n    })\n\n    return {\n      todos,\n      getTodo,\n      addTodo,\n      deleteTodo,\n      toggleTodo,\n      searchText,\n      filteredTodos,\n    }\n  },\n\n}\n</script>\n\n<style>\n</style>\n"]},"metadata":{},"sourceType":"module"}