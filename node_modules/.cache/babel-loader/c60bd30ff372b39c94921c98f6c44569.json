{"ast":null,"code":"import { ref } from '@vue/reactivity';\nimport { useRoute, useRouter } from 'vue-router';\nimport axios from 'axios';\nexport default {\n  setup() {\n    const route = useRoute();\n    const router = useRouter();\n    const todo = ref(null);\n    const loading = ref(true);\n    const todoId = route.params.id;\n\n    const getTodo = async () => {\n      const res = await axios.get('http://localhost:3000/todos/' + todoId);\n      todo.value = res.data;\n      loading.value = false;\n    };\n\n    const toggleTodoStatus = () => {\n      todo.completed = !todo.completed;\n    };\n\n    const goTodoListPage = () => {\n      router.push({\n        name: 'Todos'\n      });\n    };\n\n    getTodo();\n\n    const onSave = async () => {\n      const res = await axios.put(`http://localhost:3000/todos/${todoId}`, {\n        subject: todo.value.subject,\n        completed: todo.value.completed\n      });\n      console.log(res);\n    };\n\n    return {\n      todo,\n      loading,\n      toggleTodoStatus,\n      goTodoListPage,\n      onSave\n    };\n  }\n\n};","map":{"version":3,"mappings":"AAyCA,SAASA,GAAT,QAAoB,iBAApB;AACA,SAAQC,QAAR,EAAiBC,SAAjB,QAAiC,YAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe;AACXC,OAAK,GAAE;AACH,UAAMC,KAAI,GAAIJ,QAAQ,EAAtB;AACA,UAAMK,MAAK,GAAIJ,SAAS,EAAxB;AACA,UAAMK,IAAG,GAAIP,GAAG,CAAC,IAAD,CAAhB;AACA,UAAMQ,OAAM,GAAIR,GAAG,CAAC,IAAD,CAAnB;AACA,UAAMS,MAAK,GAAIJ,KAAK,CAACK,MAAN,CAAaC,EAA5B;;AAGA,UAAMC,OAAM,GAAI,YAAW;AACvB,YAAMC,GAAE,GAAI,MAAMV,KAAK,CAACW,GAAN,CAAU,iCAAiCL,MAA3C,CAAlB;AAEAF,UAAI,CAACQ,KAAL,GAAaF,GAAG,CAACG,IAAjB;AACAR,aAAO,CAACO,KAAR,GAAgB,KAAhB;AAEJ,KANA;;AAOA,UAAME,gBAAe,GAAI,MAAM;AAC3BV,UAAI,CAACW,SAAL,GAAiB,CAACX,IAAI,CAACW,SAAvB;AACJ,KAFA;;AAGA,UAAMC,cAAa,GAAI,MAAM;AACzBb,YAAM,CAACc,IAAP,CAAY;AACRC,YAAI,EAAC;AADG,OAAZ;AAGJ,KAJA;;AAMAT,WAAO;;AAEP,UAAMU,MAAK,GAAI,YAAU;AACrB,YAAMT,GAAE,GAAI,MAAMV,KAAK,CAACoB,GAAN,CAAW,+BAA8Bd,MAAO,EAAhD,EAAkD;AAChEe,eAAM,EAAIjB,IAAI,CAACQ,KAAL,CAAWS,OAD2C;AAEhEN,iBAAQ,EAAIX,IAAI,CAACQ,KAAL,CAAWG;AAFyC,OAAlD,CAAlB;AAIAO,aAAO,CAACC,GAAR,CAAYb,GAAZ;AACJ,KANA;;AAQA,WAAO;AACHN,UADG;AAEHC,aAFG;AAGHS,sBAHG;AAIHE,oBAJG;AAKHG;AALG,KAAP;AAOJ;;AA1CW,CAAf","names":["ref","useRoute","useRouter","axios","setup","route","router","todo","loading","todoId","params","id","getTodo","res","get","value","data","toggleTodoStatus","completed","goTodoListPage","push","name","onSave","put","subject","console","log"],"sourceRoot":"","sources":["E:\\vue\\vue_todo\\src\\pages\\todos\\_id.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <h1>Todo Page</h1>\r\n        <div v-if=\"loading\">\r\n            Loading...\r\n        </div>\r\n        <form v-else\r\n        @submit.prevent=\"onSave\">\r\n            <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                     <div class=\"form-group\">\r\n                        <label for=\"\">Subject</label>\r\n                        <input v-model=\"todo.subject\" type=\"text\" class=\"form-control\">\r\n\r\n                    </div>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                     <div class=\"form-group\">\r\n                        <label for=\"\">Status</label>\r\n                            <div>\r\n                                <button class=\"btn \"\r\n                                :class= \"todo.completed ? 'btn-success' : 'btn-danger'\"\r\n                                @click.self.prevent=\"toggleTodoStatus\"> \r\n                                {{ todo.completed ? 'Completed' : 'Incomplete'}}\r\n                                \r\n                                </button>\r\n                           \r\n                            </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary\">\r\n                저장</button>\r\n            <button type=\"submit\" class=\"btn btn-outline-dark ms-2\"\r\n            @click=\"goTodoListPage\">\r\n                취소</button>\r\n        </form>\r\n\r\n    </div>\r\n</template>\r\n<script>\r\nimport { ref } from '@vue/reactivity';\r\nimport {useRoute,useRouter} from 'vue-router'\r\nimport axios from 'axios'\r\n\r\nexport default {\r\n    setup(){\r\n        const route = useRoute();\r\n        const router = useRouter();\r\n        const todo = ref(null);\r\n        const loading = ref(true);\r\n        const todoId = route.params.id;\r\n\r\n\r\n        const getTodo = async() => {\r\n            const res = await axios.get('http://localhost:3000/todos/' + todoId)\r\n        \r\n            todo.value = res.data; \r\n            loading.value = false;\r\n\r\n        }\r\n        const toggleTodoStatus = () => {\r\n            todo.completed = !todo.completed\r\n        }\r\n        const goTodoListPage = () => {\r\n            router.push({\r\n                name:'Todos'\r\n            })\r\n        }\r\n\r\n        getTodo();\r\n\r\n        const onSave = async() =>{\r\n            const res = await axios.put(`http://localhost:3000/todos/${todoId}`,{\r\n                subject : todo.value.subject,\r\n                completed : todo.value.completed\r\n            })\r\n            console.log(res)\r\n        }\r\n        \r\n        return {\r\n            todo,\r\n            loading,\r\n            toggleTodoStatus,\r\n            goTodoListPage,\r\n            onSave\r\n        }\r\n    }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}